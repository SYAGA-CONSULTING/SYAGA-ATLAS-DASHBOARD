<!DOCTYPE html>
<html>
<head>
    <title>ATLAS Dashboard - No Auth</title>
    <style>
        body { font-family: Arial; padding: 2rem; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 2rem; border-radius: 10px; }
        .success { color: #28a745; }
        .info { color: #007bff; }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="success">‚úÖ ATLAS Dashboard - Version Sans Auth</h1>
        <div class="info">
            <h3>üéØ Cette version fonctionne IMM√âDIATEMENT</h3>
            <p><strong>URL actuelle:</strong> <span id="currentUrl"></span></p>
            <p><strong>Timestamp:</strong> <span id="timestamp"></span></p>
            
            <h3>üìä √âtat du Syst√®me</h3>
            <ul>
                <li>‚úÖ Azure Static Web Apps: FONCTIONNEL</li>
                <li>‚úÖ D√©ploiement automatique: FONCTIONNEL</li>
                <li>‚úÖ GitHub Actions: FONCTIONNEL</li>
                <li>‚ö†Ô∏è Authentification Azure AD: EN CONFIGURATION</li>
            </ul>
            
            <h3>üß™ Test des Fonctionnalit√©s</h3>
            <button onclick="testProxy()" style="padding: 0.5rem 1rem; background: #007bff; color: white; border: none; border-radius: 5px;">
                Tester Proxy GitHub
            </button>
            <div id="proxyResult" style="margin-top: 1rem;"></div>
        </div>
    </div>

    <script>
        document.getElementById('currentUrl').textContent = window.location.href;
        document.getElementById('timestamp').textContent = new Date().toLocaleString();
        
        async function testProxy() {
            const result = document.getElementById('proxyResult');
            result.innerHTML = 'üîÑ Test du proxy...';
            
            try {
                const response = await fetch('https://syaga-atlas-proxy.azurewebsites.net/api/github-proxy', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ githubPath: '/repos/SYAGA-CONSULTING/SYAGA-ATLAS-DATA/contents/test.txt' })
                });
                
                if (response.ok) {
                    result.innerHTML = '‚úÖ Proxy GitHub fonctionne!';
                } else {
                    result.innerHTML = `‚ö†Ô∏è Proxy r√©pond avec code: ${response.status}`;
                }
            } catch (error) {
                result.innerHTML = `‚ùå Erreur proxy: ${error.message}`;
            }
        }
    </script>
</body>
</html>